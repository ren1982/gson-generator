{% extends 'gson_generator/base.html' %}

{% block content %}

<h1>Explore Other Generated Masterpieces</h1>

<p>Take a look at other lyrics that have been automagically generated by other visitors to the site. Just click on the
    song title to view the full lyrics!</p>

<small><a href="{{ url_for('list_generated_lyrics') }}">Sort By Most Recent First</a> |
    <a href="{{ url_for('list_generated_lyrics', order='popular' ) }}">Sort By Most Viewed First</a></small>

{% for item in listing.items %}
<div class="media border border-secondary my-3 p-2">
    <div class="media-body">
        <h3 class="mt-0"><a href="{{ url_for('display_lyrics', url=item.url) }}">{{ item.title }}</a></h3>
        <p>{{ item.lyrics[0] }}<br>{{ item.lyrics[1] }}...</p>
        <small>Lyrics generated on {{ item.date_created.strftime('%Y-%m-%d') }} and has been viewed {{ item.visits }}
            times.</small>
    </div>
</div>
{% endfor %}
<nav aria-label="Page navigation example">
    <ul class="pagination justify-content-end">
        {% for page_num in listing.iter_pages(left_edge=2, right_edge=2, left_current=3, right_current=4) %}
        {% if page_num %}
        {% if listing.page == page_num %}
        <li class="page-item active"><span class="page-link">{{ page_num }} <span class="sr-only">(current)</span></span></li>
        {% else %}
        <li class="page-item"><a href="{{ url_for('list_generated_lyrics', order=order, page=page_num) }}"
                                 class="page-link">{{ page_num }}</a></li>
        {% endif %}
        {% else %}
        <li class="page-item disabled"><span class="page-link">...</span></li>
        {% endif %}
        {% endfor %}
    </ul>
</nav>

{% endblock %}